:root {
  --bg: #0b1220;
  --panel: #121a2b;
  --muted: #93a1ba;
  --text: #e6ebf5;
  --acc: #5b8cff;
  --acc-2: #21d4a3;
  --danger: #ff6b6b;
  --border: #223154;
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color: var(--text);
  background: radial-gradient(1200px 800px at 80% -10%, #1a2a4a55, transparent 70%),
             radial-gradient(1200px 800px at -10% 120%, #163a3a55, transparent 70%),
             var(--bg);
}

.app { max-width: 920px; margin: 0 auto; padding: 16px; height: 100%; display: flex; flex-direction: column; }
.app-header { display: flex; justify-content: space-between; align-items: center; padding: 12px 16px; border: 1px solid var(--border); background: linear-gradient(180deg, #17233b 0%, #101827 100%); border-radius: 14px; box-shadow: 0 10px 30px rgba(0,0,0,0.25) }
.brand { font-weight: 700; letter-spacing: 0.2px; }
.status { color: var(--muted); font-size: 13px; }

.chat-container { flex: 1; display: flex; flex-direction: column; gap: 12px; margin-top: 14px; }
.messages { flex: 1; overflow-y: auto; padding: 12px; border: 1px solid var(--border); background: #0e1627aa; border-radius: 14px; scroll-behavior: smooth; }

.message { display: grid; grid-template-columns: 36px 1fr; gap: 10px; padding: 10px 8px; border-bottom: 1px dashed #23324f; }
.message:last-child { border-bottom: none; }
.avatar { width: 36px; height: 36px; border-radius: 10px; align-self: start; background: #152341; display:flex; align-items:center; justify-content:center; color:#9db4ff; font-weight:700; }
.role-user .avatar{ background:#182b4d; color:#bfe1ff }
.role-assistant .avatar{ background:#193b2f; color:#7ff0c4 }
.bubble { padding: 10px 12px; border-radius: 12px; background: #13203b; border: 1px solid #23324f; }
.role-user .bubble { background: #162343; }
.role-assistant .bubble { background: #132f2a; border-color: #1f4b40; }

.chat-input { display: grid; grid-template-columns: 140px 1fr auto; gap: 10px; padding: 12px; border: 1px solid var(--border); background: #0e1627aa; border-radius: 14px; align-items: end; }
.command-select { height: 40px; border-radius: 10px; border: 1px solid var(--border); background: #101a30; color: var(--text); padding: 0 10px; }
textarea { width: 100%; resize: none; max-height: 120px; min-height: 40px; padding: 10px 12px; border-radius: 10px; border: 1px solid var(--border); background: #101a30; color: var(--text); outline: none; }
.send-btn { height: 40px; padding: 0 16px; border-radius: 10px; border: 1px solid #3a57a8; background: linear-gradient(180deg, #496eea 0%, #3754bd 100%); color: white; font-weight: 600; }
.send-btn:disabled{ opacity: .7; cursor: not-allowed; }

.assistant-streaming { background: repeating-linear-gradient(90deg, #132f2a, #132f2a 10px, #13392f 10px, #13392f 20px); animation: barber 1.2s linear infinite; }
@keyframes barber { from { background-position: 0 0; } to { background-position: 40px 0; } }

.error { color: var(--danger); }

/* Input area */
.input-area { display: flex; flex-direction: column; gap: 8px; }
.actions { display: flex; align-items: center; gap: 8px; }
.icon-btn { height: 40px; padding: 0 12px; border-radius: 10px; border: 1px solid var(--border); background: #0f1a33; color: var(--text); }

/* Image previews */
.image-previews { display: flex; flex-wrap: wrap; gap: 8px; }
.image-preview { position: relative; width: 56px; height: 56px; border-radius: 10px; overflow: hidden; border: 1px solid var(--border); background: #111a30; }
.image-preview img { width: 100%; height: 100%; object-fit: cover; display: block; }
.image-preview .remove { position: absolute; top: 2px; right: 2px; background: rgba(0,0,0,0.6); color: white; border: none; border-radius: 6px; font-size: 12px; padding: 2px 4px; cursor: pointer; }

/* Images inside bubbles */
.bubble-images { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 8px; }
.bubble-images img { max-width: 180px; max-height: 180px; border-radius: 8px; border: 1px solid #23324f; }


